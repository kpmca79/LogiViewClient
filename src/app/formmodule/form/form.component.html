<div *ngIf="frm"> 
<div class="{{frm.theme}}">
<div class="{{frm.theme}}-custom">
<div  class="main-form-class" [style.background-color]=frm.bgColor [style.max-width.px]=frm.formwidth>
<form class="{{theme}}" >
	<div class="title">
		<div [froalaView]="frm.title" style="flex-grow:1;"></div>
		<button mat-icon-button [matMenuTriggerFor]="menu"><mat-icon svgIcon="Morevert"></mat-icon></button>
		<mat-menu #menu="matMenu">
					<button mat-menu-item (click)="showSetting(frm)">
			    		<mat-icon svgIcon="Setting" class="setting-icon"></mat-icon>
		    			<span>Properties</span>
		  			</button>
  		</mat-menu>
	</div>
	<div cdkDropList class="example-list" (cdkDropListDropped)="drop($event)">
	<div cdkDrag *ngFor="let field of formField" [ngSwitch]="field.type">
		<div *ngSwitchCase="'textbox'" >
				<mat-form-field   class="example-full-width"  [style]="sanitizeHTML(frm.style)">
				    <input matInput name="{{field.title}}" [formControl]="field.frmControl" value="" required="{{field.required}}">
				    <mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.title}}</mat-placeholder>
				    <button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
				</mat-form-field>
  		</div>
  		<div *ngSwitchCase="'rating'">
			<ng-template #ratingtemplate let-fill="fill">
	    		<span class="gift" [class.full]="fill === 100">
	      			<span class="half" [style.width.%]="fill"><i class="material-icons">{{field.types}}</i></span><i class="material-icons">{{field.types}}</i>
	    		</span>
	  		</ng-template>
	  		<div   class="example-full-width"  [style]="sanitizeHTML(frm.style)">
				<div class="inline" >
					<span style="padding-right: 16px;padding-bottom: 20px;white-space: nowrap;">{{field.title}}</span>
					<div style="width:inherit;"> 
						<ngb-rating  [(rate)]="currentRate" [starTemplate]="ratingtemplate"  max="{{field.maxlen}}"></ngb-rating>
					</div>
					<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
  				</div>	
  			</div>
		</div>	
  		<div *ngSwitchCase="'number'" >
				<mat-form-field   class="example-half-width"  [style]="sanitizeHTML(frm.style)">
				    <input matInput name="{{field.title}}" [formControl]="field.frmControl" value="" required="{{field.required}}">
				    <mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.title}}</mat-placeholder>
				  	<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
		  		</mat-form-field>
  		</div>
  		<div *ngSwitchCase="'upload'" >
			<div   class="example-full-width"  [style]="sanitizeHTML(frm.style)">
				<div class="inline">
					<app-file-upload target="/api/file2" class="width-inherit" (complete)="onFileComplete($event)" styleparam={{frm.style}} text={{field.title}}></app-file-upload>
					<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button> 
				</div>
			</div>
  		</div>
  	
  		<div *ngSwitchCase="'textarea'">
  				<mat-form-field class="example-full-width" [style]="sanitizeHTML(frm.style)">
    				<textarea matInput  rows="4" cols="20" [formControl]="field.frmControl"></textarea>
    				<mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.title}}</mat-placeholder>
    				<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
  				</mat-form-field>
  		</div>
  		<div *ngSwitchCase="'section'" class="inline">
			<mat-list class="example-full-width"  >
				<mat-list-item class="section-text" [style]="sanitizeHTML(frm.style)">{{field.title}}</mat-list-item>
				<mat-divider class="devider"></mat-divider>
			</mat-list>
			<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
		</div>
  		<div *ngSwitchCase="'fullname'" class="multifield" >
  			<ng-container *ngFor="let subfield of field.subfields">
	  			<ng-container *ngIf="subfield.visible==true" >	
  			 		<div class="subfield">
  						<mat-form-field [style]="sanitizeHTML(frm.style)">
						    <input matInput name="{{subfield.name}}" [formControl]="field.frmControl" value="" required="false">
						     <mat-placeholder [style]="sanitizeHTML(frm.style)">{{subfield.name}}</mat-placeholder>
						</mat-form-field>
		  			</div>
			  	</ng-container>
		  	</ng-container>
			<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
 		</div>
		<div *ngSwitchCase="'phone'" class="multifield">
	  		<div class="width-30">
	  			<mat-form-field [style]="sanitizeHTML(frm.style)">				  
				   	<input matInput name="{{field.subfields[0].name}}" [formControl]="field.frmControl" value="" required="false">
				   	<mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.subfields[0].placeholder}}</mat-placeholder>
				</mat-form-field>
			</div>
  			<div class="width-70">
				<mat-form-field [style]="sanitizeHTML(frm.style)">
			    	<input matInput name="{{field.subfields[1].name}}" [formControl]="field.frmControl" value="" required="false">
			    	<mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.subfields[1].placeholder}}</mat-placeholder>
				</mat-form-field>
  			</div>
			<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
		</div>
		<div *ngSwitchCase="'time'">
			<mat-list class="example-full-width" >
  				<mat-list-item class="section-text" [style]="sanitizeHTML(frm.style)">{{field.title}}</mat-list-item>
  				<mat-divider class="devider"></mat-divider>
     		</mat-list>
			<div class="multifield-fixed" >
						<div class="width-30">
						  	<mat-form-field [style]="sanitizeHTML(frm.style)">
    							<mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.subfields[0].name}}</mat-placeholder>
    							<mat-select  [style]="sanitizeHTML(frm.style)" [(value)]="field.subfields[0].name" >
    								<mat-option *ngFor="let option of hours" value="Hour">{{option}}</mat-option>
    							</mat-select>
    							<mat-error *ngIf="field.frmControl.hasError('required')">
      								Selection for {{field.title}} is <strong>required</strong>
    							</mat-error>
    						</mat-form-field>
			  			</div>
			  			<div class="width-30">
						  	<mat-form-field [style]="sanitizeHTML(frm.style)">
    							<mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.subfields[1].name}}</mat-placeholder>
    							<mat-select  [style]="sanitizeHTML(frm.style)" [(value)]="field.subfields[1].name" >
    								<mat-option *ngFor="let option of minutes" value="Minutes">{{option}}</mat-option>
    							</mat-select>
    							<mat-error *ngIf="field.frmControl.hasError('required')">
      								Selection for {{field.title}} is <strong>required</strong>
    							</mat-error>
    						</mat-form-field>
			  			</div>
			  			<div class="width-30">
						  	<mat-form-field [style]="sanitizeHTML(frm.style)">
    							<mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.subfields[2].name}}</mat-placeholder>
    							<mat-select  [style]="sanitizeHTML(frm.style)" [(value)]="field.subfields[2].name" >
    								<mat-option *ngFor="let option of meridiem" value="meridiem">{{option}}</mat-option>
    							</mat-select>
    							<mat-error *ngIf="field.frmControl.hasError('required')">
      								Selection for {{field.title}} is <strong>required</strong>
    							</mat-error>
    						</mat-form-field>
			  			</div>
		 				<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
			</div>
		</div>
		<div *ngSwitchCase="'address'" class="multifield">
	  		<ng-container *ngFor="let subfield of field.subfields">
	  			<ng-container *ngIf="subfield.visible==true && subfield.name.includes('address')" >
	  					<div class="subfield-full-width">
	  						<mat-form-field [style]="sanitizeHTML(frm.style)">
						    <input matInput name="{{subfield.name}}" [formControl]="field.frmControl" value="" required="false">
						    	<mat-placeholder [style]="sanitizeHTML(frm.style)">{{subfield.placeholder}}</mat-placeholder>
							</mat-form-field>
			  			</div>
			  	</ng-container>
			  	<ng-container *ngIf="subfield.visible==true && !subfield.name.includes('address')" >
	  					<div class="subfield">
	  						<mat-form-field [style]="sanitizeHTML(frm.style)">
						    <input matInput name="{{subfield.name}}" [formControl]="field.frmControl" value="" required="false">
						    <mat-placeholder [style]="sanitizeHTML(frm.style)">{{subfield.placeholder}}</mat-placeholder>
							</mat-form-field>
			  			</div>
			  	</ng-container>
		  	</ng-container>
			<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
  	  </div>
			
		<div *ngSwitchCase="'email'" >
			<mat-form-field   class="example-full-width" [style]="sanitizeHTML(frm.style)">
			    <input matInput name="{{field.title}}" [formControl]="field.frmControl"  value="" required="{{field.required}}">
		  	    <mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.title}}</mat-placeholder>
			    <button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
		  	</mat-form-field>
  		</div>
  		<div *ngSwitchCase="'submit'" >
			<div   class="submit-row">
				    <button _ngcontent-oht-c21="" class="btn btn-success mat-raised-button" type="submit" [style]="sanitizeHTML(frm.btnStyle)">{{field.title}}</button>
					<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
		  	</div>
		</div>
		
  		
  		<!-- full name end -->
  		
  		<div *ngSwitchCase="'slide-toggle'" class="inline">
      			<mat-slide-toggle [style]="sanitizeHTML(frm.style)" class="example-full-width" [color]="white"
          						  [checked]="field.checked" [disabled]="field.disabled">
          						  	<div [style]="sanitizeHTML(frm.style)">{{field.title}}</div>
      			</mat-slide-toggle>
      			<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
  		</div>
		<div *ngSwitchCase="'date-picker'">
		      <mat-form-field class="example-half-width" [style]="sanitizeHTML(frm.style)">
		      		<input  matInput  [min]="field.mindate" required="{{field.required}}" [max]="field.mindate" 
		      				[matDatepicker]="picker" (dateInput)="addEvent('input', $event)" (dateChange)="addEvent('change', $event)">
  					<mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.title}}</mat-placeholder>
  					<mat-datepicker-toggle  matSuffix [for]="picker"></mat-datepicker-toggle>
  					<mat-datepicker touchUi  #picker></mat-datepicker>
  					<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
		      </mat-form-field>
		</div> 		  		
  		
  		<div *ngSwitchCase="'dropdown'" >
  				<mat-form-field class="example-half-width" [style]="sanitizeHTML(frm.style)">
    				<mat-placeholder [style]="sanitizeHTML(frm.style)">{{field.title}}</mat-placeholder>
    				<mat-select  [style]="sanitizeHTML(frm.style)" [(value)]="field.selectedOption" [formControl]="field.frmControl">
    					<mat-option *ngFor="let option of field.options" value="{{option}}"><div [style]="sanitizeHTML(frm.style)">{{option}}</div></mat-option>
    				</mat-select>
    				<button mat-icon-button matSuffix [matMenuTriggerFor]="propertyOption" [matMenuTriggerData]="{field:field}"><mat-icon svgIcon="Morevert"></mat-icon></button>
    			</mat-form-field>
		</div>
		</div>
		
		
		 <mat-menu #propertyOption="matMenu">
			  <ng-template matMenuContent let-field="field">
			  		<button mat-menu-item (click)="showSetting(field)">
			    		<mat-icon svgIcon="Setting" class="setting-icon"></mat-icon>
		    			<span>Properties</span>
		  			</button>
  					<button mat-menu-item (click)="remove(field)">
    					<mat-icon svgIcon="Delete" class="delete-icon"></mat-icon>
    					<span>Delete</span>
  					</button>
  				</ng-template>
		</mat-menu> 
</div>
</form>





</div>
</div>
<p class="example-full-width">
<table>
<tr><td>
<button type="submit" (click)="saveForm(true)"  class="btn btn-success mat-raised-button" >Save</button></td>


</tr>
</table>
<p></p>
</div>

